import{m as p,p as z,q as N,g as s,a as x,b as t,d as h,h as O,i,F as w,z as M,e as Y,k as v,s as L,t as f,o as l,v as C,f as b,w as V,l as T,n as j}from"./app-BcRq0Ltj.js";import{_ as F,a as P}from"./Footer-Ba65OmgM.js";const S={class:"flex flex-col min-h-screen"},D={class:"w-full px-6 mx-auto max-w-[1000px]"},q={class:"product-info"},W={class:"text-4xl py-4 md:text-5xl font-bold mb-6 text-center bg-clip-text text-transparent bg-gradient-to-r from-blue-500 to-purple-600"},X=["innerHTML"],A={key:0},G=["innerHTML"],I=["src"],J={key:2,class:"flex flex-col items-center my-6 space-y-4"},K={class:"space-y-2 text-sm text-gray-700"},Q={class:"flex items-center space-x-2"},R={class:"flex items-center space-x-2"},Z=["disabled"],ee={key:0,class:"text-center text-gray-500 py-10"},te={key:0,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50"},se={class:"bg-white p-6 rounded-2xl shadow-lg w-96 relative"},le={key:0,class:"text-red-500 text-sm mt-1"},ne={key:0,class:"text-red-500 text-sm mt-1"},re={__name:"CategoryTest1",props:{category:Object,products:Object},setup(_){const u=p(!1),c=p(!1),y=p(!1),d=p({name:"",phone:""}),a=p({name:"",phone:""}),$=()=>{y.value=!0},k=()=>{y.value=!1,d.value={name:"",phone:""},a.value={name:"",phone:""}},E=()=>{a.value={name:"",phone:""},d.value.name.trim()||(a.value.name="Введите имя"),/^\+?\d[\d\s\-\(\)]{9,}$/.test(d.value.phone)||(a.value.phone="Введите корректный номер телефона"),!a.value.name&&!a.value.phone&&k()};z(()=>{const r=document.createElement("div");r.classList.add("web-bg"),document.body.appendChild(r);const e=()=>{const o=window.scrollY*.2;r.style.transform=`translateY(${o}px)`},n=o=>{const{innerWidth:g,innerHeight:m}=window,H=(o.clientX/g-.5)*20,U=(o.clientY/m-.5)*20;r.style.transform=`translate(${H}px, ${U+window.scrollY*.2}px)`};window.addEventListener("scroll",e),window.addEventListener("mousemove",n),N(()=>{window.removeEventListener("scroll",e),window.removeEventListener("mousemove",n)})});const B=r=>r?r.replace(/src="\/\/storage\//g,'src="/storage/'):"";return(r,e)=>(l(),s(w,null,[x(h(O),{title:"Разделы"}),t("div",S,[x(F),t("main",D,[(l(!0),s(w,null,M(_.products,n=>(l(),s("div",{key:n.id,class:"product-card mb-10 pb-8"},[t("div",q,[t("h1",W,f(n.title),1),t("div",{class:"product-description max-w-full mb-6",innerHTML:n.description},null,8,X),n.content_blocks?(l(),s("div",A,[(l(!0),s(w,null,M(n.content_blocks,(o,g)=>(l(),s("div",{key:g,class:"mb-6"},[o.type==="text"?(l(),s("div",{key:0,class:"text-block",innerHTML:B(o.description)},null,8,G)):i("",!0),o.type==="image"&&o.image?(l(),s("img",{key:1,src:`/storage/${o.image}`,class:"mx-auto my-4 rounded-lg shadow-sm",style:{"max-width":"100%",height:"auto"}},null,8,I)):i("",!0),o.type==="button"?(l(),s("div",J,[t("div",K,[t("label",Q,[v(t("input",{type:"checkbox","onUpdate:modelValue":e[0]||(e[0]=m=>u.value=m)},null,512),[[C,u.value]]),t("span",null,[e[5]||(e[5]=b("Я даю согласие на обработку данных в соответствии с ",-1)),x(h(T),{href:"/privacy",class:"text-blue-600 underline"},{default:V(()=>[...e[4]||(e[4]=[b("Политикой конфиденциальности",-1)])]),_:1})])]),t("label",R,[v(t("input",{type:"checkbox","onUpdate:modelValue":e[1]||(e[1]=m=>c.value=m)},null,512),[[C,c.value]]),t("span",null,[e[7]||(e[7]=b("Я принимаю условия ",-1)),x(h(T),{href:"/oferta",class:"text-blue-600 underline"},{default:V(()=>[...e[6]||(e[6]=[b("Договора оферты",-1)])]),_:1})])])]),t("button",{disabled:!u.value||!c.value,onClick:$,class:j(["inline-block w-full sm:w-auto px-10 py-3 text-lg font-semibold text-white text-center rounded-2xl shadow-md transition-all duration-300",{"bg-gray-400 cursor-not-allowed":!u.value||!c.value,"bg-blue-600 hover:bg-blue-700 hover:shadow-lg active:scale-95":u.value&&c.value}])},f(o.button_text),11,Z)])):i("",!0)]))),128))])):i("",!0)])]))),128)),_.products.length===0?(l(),s("div",ee," В этой категории пока нет страниц ")):i("",!0)]),x(P),y.value?(l(),s("div",te,[t("div",se,[t("button",{onClick:k,class:"absolute top-2 right-3 text-gray-400 hover:text-gray-700 text-xl"},"×"),e[11]||(e[11]=t("h2",{class:"text-xl font-semibold mb-4 text-center"},"Введите данные для оплаты",-1)),t("form",{onSubmit:Y(E,["prevent"]),class:"space-y-4"},[t("div",null,[e[8]||(e[8]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Имя",-1)),v(t("input",{"onUpdate:modelValue":e[2]||(e[2]=n=>d.value.name=n),type:"text",class:"w-full border rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500",placeholder:"Введите имя"},null,512),[[L,d.value.name]]),a.value.name?(l(),s("p",le,f(a.value.name),1)):i("",!0)]),t("div",null,[e[9]||(e[9]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Телефон",-1)),v(t("input",{"onUpdate:modelValue":e[3]||(e[3]=n=>d.value.phone=n),type:"tel",class:"w-full border rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500",placeholder:"+7 (___) ___-__-__"},null,512),[[L,d.value.phone]]),a.value.phone?(l(),s("p",ne,f(a.value.phone),1)):i("",!0)]),e[10]||(e[10]=t("button",{type:"submit",class:"w-full py-2 text-white bg-blue-600 rounded-xl font-semibold hover:bg-blue-700 transition"}," Оплатить ",-1))],32)])])):i("",!0)])],64))}};export{re as default};
